---
title: Week 4
date: "2018-12-07T10:46:37.121Z"
---

Fourth Sprint Journal for Labs8

(https://github.com/Lambda-School-Labs/Labs8-TeamComms/pulse)

Github handle: Flintbean

Whiteboard: 

Back-End: https://teamcomm2.herokuapp.com/ 
Front-End: https://team-comm.netlify.com/landing

# Part 1

Fourth week has been quite a wild one. This week was the week we tie everything together. We set out to fully implement all the features that were going to be used in the website, and things ended up just like we planned but we did have some big problems along the way. We found out that the token that was being generated by the server was different than the one being generated locally! It was causing all sorts of problems with the server. It was because we had quotations in the heroku config file as well as the .env file. .Env Files naturally ignore quotation marks, something I did not know when deploying the server! That took a long time to troubleshoot, and I definitely didn't feel great about that. 

Another challenge we faced was with the sockets. We were trying to store data in the db while the socket channel was open and it was proving to be too difficult. The hangups that come with saving information to a database so quickly was messing with the socket chat. So we ended up scratching that and just waiting until the end of the meeting to save the information to the database. After we made that decision, I was able to knock out the sockets and they are working much better now.

### Tasks Pulled

#### Front End

* Google oauth
    * Github: https://github.com/Lambda-School-Labs/Labs8-TeamComms/pull/102
    * Trello: https://trello.com/c/WPGQg8AE/51-oauth
  
* Socketio
    * Github: https://github.com/Lambda-School-Labs/Labs8-TeamComms/pull/95
    * Trello: https://trello.com/c/FlDI9lht/85-websockets

#### Back End

* Convo update
    * Github: https://github.com/Lambda-School-Labs/Labs8-TeamComms/pull/89/files
    * Trello: https://trello.com/c/dgzA7Eh3/80-update-meeting-endpoint

* Socketio
    * Github: https://github.com/Lambda-School-Labs/Labs8-TeamComms/pull/95
    * Trello: https://trello.com/c/FlDI9lht/85-websockets


# Detailed Analysis

I focused a lot on sockets this week, trying to get them perfect because it is a very important part of our application. We initially tried save socket information to the database as the socket chat was going on but this was a rough task. We scrapped it and ended up just waiting until the end of the meeting to save stuff to the database. So I refactored and realized I was able to save information to the socket room that the users were currently in. This was a great find because I realized I could create objects for the particular room and save information that persisted even if the user wasn't even in the socket channel yet! So anyone who is late to a meeting can join and will still be up to date with what is going on. There is a few issues with this solution, if everyone leaves the room or gets disconnected, that information is going to be lost. That was why we wanted the db to be that sort of middleman, but sockets work perfectly fine other wise. After playing around with this a bit, it really opened up a window into what was capable with the socket chat. I have more things I plan on implementing this coming week and I think it is going to end up great.

# Part 2- Milestone Reflections

One of the things we worked on to improve the front from the back end was being more precise with our status codes. Sending better error codes back to the front end allowed them to figure out what was going wrong with the information that was being sent to the server. It also allowed us to display things on the front end that was based off the error codes being sent back from the server. Like if an email is already taken, the error sent from the server allows us to display that error in the login page of the site. This was something that should have been done from the beginning, and it was partially implemented. Once we got to more complex end points, howevever, there was a higher chance of data being sent the wrong way to the server. Like any put endpoints need to be handled carefully so data isn't removed from the database or unecessary data being added to the database. More precise error codes were required from the server.